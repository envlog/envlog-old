<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <title>Index</title>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" />
  <!-- Google Fonts Roboto -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Oxygen:wght@700&Roboto:wght@300;400;500;700&display=swap" />
  <!-- MDB -->
  <link rel="stylesheet" href="css/mdb.free.css" />

  <link rel="stylesheet" href="css/inc/navbar.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js" integrity="sha512-d9xgZrVZpmmQlfonhQUvTR7lMPtO7NkZMkA0ABN3PHCbKA5nqylQ/yWlFAyY6hYgdF1Qh6nYiuADWwKB4C2WSw=="
  crossorigin="anonymous"></script>
</head>

<body class="sidebar" id="body-pd">


    <!--- START NAVBAR -->
    <header class="header bg-success navbar-dark text-white" id="header">
        <div class="header_toggle"> <i class="fa fa-bars" id="header-toggle"></i> </div>
        <span class="text-secondary text-white">envlog</span>
        <div class="heade_action">
            <a href="/profile.html" id="avatar" class="nav_link"> 
            <img src="https://mdbootstrap.com/img/new/avatars/2.jpg" class="nav_icon rounded-circle" style="width: 22px;" alt="" />
            </a>
        </div>
    </header>
    <div class="l-navbar" id="nav-bar">
          <nav class="nav">
              <div> 
                  <a href="#" class="nav_logo">
                    <svg class="nav_icon" version="1.2" baseProfile="tiny-ps" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 45" width="25" height="auto">
                      <title>leaf-svg</title>
                      <style>
                        tspan { white-space:pre }
                        .shp0 { fill: #ffffff;stroke: #00ff00;stroke-width: 0 } 
                        .shp1 { fill: #ffffff } 
                      </style>
                      <g id="Layer 1">
                        <g id="&lt;Group&gt;">
                          <g id="&lt;Group&gt;">
                            <g id="&lt;Group&gt;">
                              <path id="&lt;Path&gt;" class="shp0" d="M21.16 41.76C9.42 41.15 6.74 26.19 3.67 16.53C2.53 12.92 1.32 10.1 0.06 8.07C8.87 8.96 16.61 11.19 23.28 14.76C21.88 16.26 20.67 17.88 19.73 19.66C19.13 20.8 18.7 21.98 18.33 23.18C14.84 19.76 11.29 16.69 8.42 14.37C6 12.41 3.95 10.84 2.25 9.66C3.9 10.91 5.89 12.56 8.22 14.6C11.09 17.12 14.63 20.46 18.06 24.14C16.78 29.47 17.8 35.37 21.16 41.76Z" />
                            </g>
                            <g id="&lt;Group&gt;">
                              <path id="&lt;Path&gt;" class="shp1" d="M64.27 0.16C62.6 2.84 61 6.57 59.49 11.35C54.58 26.78 50.49 52.55 25.05 42.61C25.32 42.04 25.61 41.45 25.94 40.86C26.31 40.13 26.71 39.39 27.16 38.65C27.59 37.9 28.05 37.13 28.56 36.37C29.04 35.59 29.56 34.82 30.11 34.04C32.27 30.91 34.8 27.71 37.5 24.64C42.88 18.5 48.85 12.85 53.48 8.8C56.56 6.1 59.19 3.91 61.36 2.25C59.12 3.82 56.4 5.9 53.21 8.49C48.41 12.35 42.2 17.77 36.52 23.74C33.67 26.73 30.98 29.87 28.64 32.98C28.05 33.75 27.48 34.52 26.96 35.3C26.41 36.06 25.9 36.83 25.42 37.59C24.93 38.33 24.48 39.08 24.06 39.82C23.67 40.47 23.32 41.12 23 41.75C22.92 41.72 22.85 41.69 22.77 41.66C9.92 18.05 23.75 4.22 64.27 0.16Z" />
                            </g>
                          </g>
                        </g>
                      </g>
                    </svg>
                    <img width="80px" src="img/envlog-logo-white.svg" class="text-center" />
                  </a>

                  <div class="nav_list"> 
                    <a href="#" class="nav_link active">
                      <i class="fas fa-home nav_icon"></i> 
                      <span class="nav_name">Dashboard</span> 
                    </a> 
                    <a href="#" class="nav_link"> 
                      <i class="fas fa-chart-area nav_icon"></i> 
                      <span class="nav_name">Grafici</span> 
                    </a> 
                    <a href="#" class="nav_link"> 
                      <i class="fas fa-bullseye nav_icon"></i> 
                      <span class="nav_name">Storici</span> 
                    </a> 
                    <a href="#" class="nav_link"> 
                      <i class="fas fa-bullseye nav_icon"></i> 
                      <span class="nav_name">Altro</span> 
                    </a> 
                    <a href="#" class="nav_link"> 
                      <i class="fas fa-microchip nav_icon"></i> 
                      <span class="nav_name">Sensori</span> 
                    </a> 
                    <a href="#" class="nav_link"> 
                      <i class="fas fa-cog nav_icon"></i> 
                      <span class="nav_name">Impostazioni</span> 
                    </a> 
                  </div>
              </div> 
              <a href="/profile.html" id="avatar" class="nav_link"> 
                <img src="https://mdbootstrap.com/img/new/avatars/2.jpg" class="nav_icon rounded-circle" style="width: 22px;" alt="" />
                <span class="nav_name">Ciao, <span></span></span> 
              </a>
          </nav>
    </div>
    <!-- END NAVBAR -->

    <!--Main layout-->
    <main class="mb-5">
        <h1 class="text-center">Scegli il tipo di sensore da installare</h1>   
        <div class="row row-cols-1 row-cols-12 p-3 g-3" id="sensors-card" style="transform: scale(0.9);">
              <div class="col-md-6 col-12" >
                  <div class="card border border-primary" data-sensor-uid="1234" data-sensor-type="Acqua" data-mdb-toggle="modal" data-mdb-target="#addSensorModal">
                        <div class="card-body">
                            <div class="card-text">
                                <div class="row align-items-center">
                                    <div class="col-md-5 col-sm-7">
                                        <img src="https://img.icons8.com/color/96/000000/water.png" data-image="" class="rounded-circle w-50 p-3 bg-primary" alt="...">
                                    </div>
                                    <div class="col-md-7 col-sm-5">
                                        <h5 class="h5">Acqua</h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                  </div>
              </div>

              <div class="col-md-6 col-12">
                <div class="card border border-primary" data-sensor-uid="1234" data-sensor-type="[TIPO SENSORE]" data-mdb-toggle="modal" data-mdb-target="#addSensorModal">
                      <div class="card-body">
                          <div class="card-text">
                              <div class="row align-items-center">
                                  <div class="col-md-5 col-sm-7">
                                    <img src="https://img.icons8.com/color/96/000000/pressure.png" data-image="" class="rounded-circle w-50 p-3 bg-primary" alt="...">
                                </div>
                                  <div class="col-md-7 col-sm-5">
                                      <h5 class="h5">Pressione</h5>
                                  </div>
                              </div>
                          </div>
                      </div>
                </div>
            </div>
            
            <div class="col-md-6 col-12 mt-md-5">
                <div class="card border border-primary" data-sensor-uid="1234" data-sensor-type="Temperatura" data-mdb-toggle="modal" data-mdb-target="#addSensorModal">
                      <div class="card-body">
                          <div class="card-text">
                              <div class="row align-items-center">
                                  <div class="col-md-5 col-sm-7">
                                    <img src="https://img.icons8.com/color/96/000000/cold.png" data-image="" class="rounded-circle w-50 p-3 bg-info" alt="...">
                                </div>
                                  <div class="col-md-7 col-sm-5">
                                      <h5 class="h5">Temperatura</h5>
                                  </div>
                              </div>
                          </div>
                      </div>
                </div>
            </div>

            <div class="col-md-6 col-12 mt-md-5">
                <div class="card border border-primary" data-sensor-uid="1234" data-sensor-type="[TIPO SENSORE]" data-mdb-toggle="modal" data-mdb-target="#addSensorModal">
                      <div class="card-body">
                          <div class="card-text">
                              <div class="row align-items-center">
                                  <div class="col-md-5 col-sm-7">
                                    <img src="https://img.icons8.com/color/96/000000/humidity.png" data-image="" class="rounded-circle w-50 p-3 bg-warning" alt="...">
                                </div>
                                  <div class="col-md-7 col-sm-5">
                                      <h5 class="h5">Umidit√†</h5>
                                  </div>
                              </div>
                          </div>
                      </div>
                </div>
            </div>
        </div> 
    </main>
    <!--Main layout-->

    <div class="modal bottom " id="addSensorModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" data-mdb-backdrop="true" data-mdb-keyboard="true">
      <div class="modal-dialog modal-frame modal-bottom ">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Aggiungi sensore</h5>
            <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">

            <form class="col d-flex flex-column container">

                <label for="sensorname">Inserisci nome sensore (facoltativo)</label>
                <input type="text" name="sensorname" placeholder="Nome sensore" class="mb-5">

                <div class="form-check form-switch mb-5">
                    <input class="form-check-input" type="checkbox" role="switch" name="sensorswitch" id="flexSwitchCheckChecked"/>
                    <label class="form-check-label" for="flexSwitchCheckChecked">Attiva sensore</label>
                </div>                

                <input type="hidden" name="sensortype" value="">
                <input type="hidden" name="sensormcu_id" value="">  

                <div class="d-flex flex-row justify-content-end">
                    <button type="button" class="btn btn-outline-secondary mx-2" data-mdb-dismiss="modal">Annulla</button>
                    <button type="button" class="btn btn-primary">Conferma</button>
                </div>
            </form>
            <script>
                //QUesto scrpt intercetta lapertura della modal e si prende il tipo, quindi stampa il tipo nel titolo
                const sensorModal = document.getElementById('addSensorModal')
                sensorModal.addEventListener('show.mdb.modal', (event) => {
                  // Button that triggered the modal
                  const button = event.relatedTarget
                  // Extract info from data-mdb-* attributes
                  const sensortype = button.getAttribute('data-sensor-type')
                  // If necessary, you could initiate an AJAX request here
                  // and then do the updating in a callback.
                  //
                  // Update the modal's content.
                  const modalTitle = sensorModal.querySelector('.modal-title')

                  modalTitle.textContent = `Aggiungi nuovo sensore di ${sensortype}`;
                })

            </script>

          </div>
        </div>
      </div>
    </div>
    
  




    <!-- MDB -->
    <script type="text/javascript" src="js/mdb.min.js"></script>
    <!-- Custom scripts -->
    <script type="text/javascript" src="js/app.js"></script>

</body>

</html>